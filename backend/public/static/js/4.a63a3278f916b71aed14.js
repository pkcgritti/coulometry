webpackJsonp([4,5,6],{"+ZmU":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("WRjL"),i=a("9INL"),n={components:{CreateMaterialDialog:l.default,CreateElementDialog:i.default},data:function(){return{material:null,materials:[{value:"Material 1",text:"Ae"},{value:"Material 2",text:"Outro"}],elements:[],elementsLoading:!1}},methods:{createMaterial:function(){var e=this;this.$refs.createMaterialDialog.open().then(function(t){t.choice&&e.$axios.post("material",t.payload).then(function(t){var a={value:t.payload,text:t.payload.name};e.materials.push(a),e.$nextTick(function(){e.material=a.value})})})},editMaterial:function(){var e=this;this.$refs.createMaterialDialog.open(this.material.name).then(function(t){t.choice&&e.$axios.put("material/"+e.material._id,t.payload).then(function(t){e.getMaterials().then(function(){var t=e.materials.find(function(t){return t.value._id===e.material._id});e.$nextTick(function(){e.material=t.value})})})})},removeMaterial:function(){var e=this;window.confirm("Tem certeza que deseja remover o material "+this.material.name+"?")&&this.$axios.delete("material/"+this.material._id).then(function(){e.getMaterials(),e.material=null})},getMaterials:function(){var e=this;return this.$axios.get("material").then(function(t){e.materials=t.payload.map(function(e){return{value:e,text:e.name}})})},createElement:function(){var e=this;this.$refs.createElementDialog.open().then(function(t){t.choice&&(t.payload.material=e.material._id,e.$axios.post("material/"+e.material._id+"/elements",t.payload).then(function(e){console.log(e)}).catch(function(e){console.log(e.response)}))})},getElements:function(){var e=this;return this.elementsLoading=!0,this.$axios.get("material/"+this.material._id+"/elements").then(function(t){e.elements=t.payload,setTimeout(function(){e.elementsLoading=!1},800)})}},mounted:function(){this.getMaterials()}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{column:"column"}},[a("create-material-dialog",{ref:"createMaterialDialog"}),a("create-element-dialog",{ref:"createElementDialog"}),a("v-flex",{attrs:{xs12:"xs12"}},[a("v-card",[a("v-card-title",{staticClass:"pa-2 primary"},[a("span",{staticClass:"title"},[e._v("Seleção de material")])]),a("v-card-text",[e.materials.length>0?a("v-select",{staticClass:"white--text",attrs:{items:e.materials,label:"Selecione o material"},on:{input:e.getElements},model:{value:e.material,callback:function(t){e.material=t},expression:"material"}}):a("span",[e._v("Não existem materiais registrados na plataforma")])],1),a("v-card-actions",[a("v-spacer"),e.material?a("v-btn",{staticStyle:{"text-transform":"none"},attrs:{color:"error"},on:{click:e.removeMaterial}},[a("v-icon",[e._v("delete")])],1):e._e(),e.material?a("v-btn",{staticStyle:{"text-transform":"none"},attrs:{color:"primary"},on:{click:e.editMaterial}},[a("v-icon",[e._v("edit")])],1):e._e(),a("v-btn",{staticStyle:{"text-transform":"none"},attrs:{color:"success"},on:{click:e.createMaterial}},[a("v-icon",[e._v("add")])],1)],1)],1),e.material?a("v-card",{staticClass:"mt-3"},[a("v-card-title",{staticClass:"pa-2 primary"},[a("span",{staticClass:"title"},[e._v("Elementos relacionados")])]),a("v-card-text",[e.elementsLoading?[a("span",[e._v("Pesquisando elementos relacionados ao material "+e._s(e.material.name))]),a("v-progress-linear",{attrs:{indeterminate:"indeterminate"}})]:[0===e.elements.length?a("span",[e._v("Não existem elementos relacionados a este material")]):[a("v-layout",{attrs:{wrap:"wrap"}},e._l(e.elements,function(t){return a("v-flex",{key:t._id,attrs:{xs6:"xs6",sm4:"sm4",md3:"md3"}},[a("v-card",{staticStyle:{"border-top-left-radius":"0","border-top-right-radius":"0"},attrs:{light:"light"}},[a("v-card-title",{staticClass:"pa-2 primary white--text"},[a("span",[e._v(e._s(t.name))])]),a("v-card-text",{staticClass:"pa-2"},[a("table",{staticClass:"param-table"},[a("tbody",[a("tr",[a("td",{staticClass:"header"},[e._v("Massa molar")]),a("td",{staticClass:"value"},[e._v(e._s(t.molarMass)+" (g/mol)")])]),a("tr",[a("td",{staticClass:"header"},[e._v("Densidade")]),a("td",{staticClass:"value"},[e._v(e._s(t.density)+" (g/cm³)")])])])])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticStyle:{"text-transform":"none"},attrs:{small:"small",color:"error",icon:"icon"},on:{click:function(e){}}},[a("v-icon",[e._v("delete")])],1),a("v-btn",{staticStyle:{"text-transform":"none"},attrs:{small:"small",color:"primary",icon:"icon"},on:{click:function(e){}}},[a("v-icon",[e._v("edit")])],1)],1)],1)],1)}))]]],2),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticStyle:{"text-transform":"none"},attrs:{color:"success"},on:{click:e.createElement}},[a("v-icon",[e._v("add")])],1)],1)],1):e._e()],1)],1)},staticRenderFns:[]},s=a("VU/8")(n,r,!1,null,null,null);t.default=s.exports},"9INL":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l={data:function(){return{payload:{name:"",molarMass:0,density:0},title:"Criar elemento"}},components:{AsyncDialog:a("OvIy").a},methods:{open:function(e){return this.title=e&&""!==e?"Editar elemento":"Criar elemento",this.payload={name:"",molarMass:0,density:0},"string"==typeof e&&(this.payload.name=e),this.$refs.dialog.open()}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("async-dialog",{ref:"dialog",attrs:{payload:e.payload,title:e.title}},[a("v-flex",{attrs:{xs12:"xs12"}},[a("v-text-field",{attrs:{light:"light",clearable:"clearable",label:"Nome do elemento"},model:{value:e.payload.name,callback:function(t){e.$set(e.payload,"name",t)},expression:"payload.name"}})],1),a("v-flex",{attrs:{xs12:"xs12"}},[a("v-text-field",{attrs:{light:"light",type:"number",label:"Massa molar (g/mol)"},model:{value:e.payload.molarMass,callback:function(t){e.$set(e.payload,"molarMass",t)},expression:"payload.molarMass"}})],1),a("v-flex",{attrs:{xs12:"xs12"}},[a("v-text-field",{attrs:{light:"light",type:"number",label:"Massa específica (g/cm³)"},model:{value:e.payload.density,callback:function(t){e.$set(e.payload,"density",t)},expression:"payload.density"}})],1)],1)},staticRenderFns:[]},n=a("VU/8")(l,i,!1,null,null,null);t.default=n.exports},WRjL:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l={data:function(){return{payload:{name:""},title:"Criação de material"}},components:{AsyncDialog:a("OvIy").a},methods:{open:function(e){return this.title=e&&""!==e?"Editar material":"Criar material",this.payload={name:""},"string"==typeof e&&(this.payload.name=e),this.$refs.dialog.open()}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("async-dialog",{ref:"dialog",attrs:{payload:e.payload,title:e.title}},[a("v-flex",{attrs:{xs12:"xs12"}},[a("v-text-field",{attrs:{light:"light",clearable:"clearable",label:"Nome do material"},model:{value:e.payload.name,callback:function(t){e.$set(e.payload,"name",t)},expression:"payload.name"}})],1)],1)},staticRenderFns:[]},n=a("VU/8")(l,i,!1,null,null,null);t.default=n.exports}});
//# sourceMappingURL=4.a63a3278f916b71aed14.js.map